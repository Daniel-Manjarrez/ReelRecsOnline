{% extends "layout.html" %}

{% block content %}

<script>
    var current_time = "{{ current_time }}";
    var elapsed_time = parseFloat("{{ elapsed_time }}").toFixed(2);
    console.log("Current time:", current_time);
    console.log("Elapsed time:", elapsed_time, "minutes");
</script>

<br>

<!-- Top Rated Kdramas to Watch-->
<!-- Remember, this is wrapped in a container -->
<h1>
    Recommendations Based On {{ title }}
</h1>

<br>

<div>
    <span class="intro"><i>The following are your generated recommendations.</i></span>
</div>

<br>

<div class="row">
    {% for movie in items %}
    <div class="col-md-4 d-flex align-items-stretch"> <!-- Make each column flex and stretch to fill the height -->
        <div class="card mb-4" style="width: 100%;"> <!-- Use mb-4 for consistent spacing, adjust '4' as needed -->
            <!-- Wrap the image in an <a> tag to make it clickable -->
            <a href="/overview/{{ movie.title }}">
                <img src="{{ movie.backdrop }}" class="card-img-top image-modified" alt="{{ item.poster }}">
            </a>
            <div class="card-body d-flex flex-column"> <!-- Make card-body a flex container -->
                <h5 class="card-title">{{ movie.title }}</h5>
                <!-- Genres -->
                <p class="card-text"><strong>Genre:</strong> {{ movie.genre_names|join(', ') }}</p>
                <!-- Actors -->
                <p class="card-text"><strong>Runtime:</strong> {{ movie.runtime_minutes }} minutes</p>
                <a href="/overview/{{ movie.title }}" class="btn btn-primary mt-auto">Learn More</a> <!-- mt-auto pushes the button down -->
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}